<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
]>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:panelGrid columns="1" styleClass="gettingStartedContent">
	<h:messages styleClass="errors" layout="list" rendered="#{debug.showMessages}"/>
	<h:outputFormat value="#{msgs.smtpServerEditLabel}" styleClass="gridHeader">
	   <f:param value="#{smtpServer.smtpServer.serverName}"/>
	</h:outputFormat>
	<h:panelGrid columns="3" styleClass="editPaneHeader" 
		columnClasses="promptColumn, inputColumn, messageColumn">
		<h:outputText value="#{msgs.serverNamePrompt}"/>
		<h:inputText id="servername" value="#{smtpServer.smtpServer.serverName}"
			required="true" binding="#{smtpServer.serverNameInput}" 
			label="#{msgs.serverNamePrompt}" maxlength="50" size="50"
			disabled="#{smtpServer.editMode}"
			validator="#{smtpServer.validatePrimaryKey}">
			<f:validateLength minimum="1" maximum="50"/>
		</h:inputText>
		<h:message for="servername" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.hostNamePrompt}"/>
		<h:inputText id="smtphost" value="#{smtpServer.smtpServer.smtpHostName}"
			required="true" label="#{msgs.hostNamePrompt}" maxlength="100" size="50">
			<f:validateLength minimum="1" maximum="100" />
		</h:inputText>
		<h:message for="smtphost" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.portNumberPrompt}"/>
		<h:inputText id="port" value="#{smtpServer.smtpServer.smtpPortNumber}"
			required="true" label="#{msgs.portNumberPrompt}" size="10">
			<f:validateLongRange minimum="-1" maximum="9999"/>
		</h:inputText>
		<h:message for="port" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.useSslPrompt}"/>
		<h:selectOneMenu id="ssl" value="#{smtpServer.smtpServer.isUseSsl}"
			binding="#{smtpServer.useSslInput}"
			required="true" label="#{msgs.useSslPrompt}">
			<f:selectItems value="#{codes.yesNoItems}"/>
			<f:ajax event="change" render="userid password @this" />
		</h:selectOneMenu>
		<h:message for="ssl" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.useAuthPrompt}"/>
		<h:selectOneMenu id="auth" value="#{smtpServer.smtpServer.isUseAuth}"
			binding="#{smtpServer.useAuthInput}"
			label="#{msgs.useAuthPrompt}">
			<f:selectItems value="#{codes.yesNoItems}"/>
			<f:ajax event="change" render="userid password @this" />
		</h:selectOneMenu>
		<h:message for="auth" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.userIdPrompt}"/>
		<h:inputText id="userid" value="#{smtpServer.smtpServer.userId}"
			required="#{smtpServer.isUseSslInput or smtpServer.isUseAuthInput}"
			label="#{msgs.userIdPrompt}" maxlength="30" size="30">
		</h:inputText>
		<h:message for="userid" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.passwordPrompt}"/>
		<h:inputText id="password" value="#{smtpServer.smtpServer.userPswd}"
			required="#{smtpServer.isUseSslInput or smtpServer.isUseAuthInput}"
			label="#{msgs.passwordPrompt}" maxlength="30" size="30">
		</h:inputText>
		<h:message for="password" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.descriptionPrompt}"/>
		<h:inputText id="desc" value="#{smtpServer.smtpServer.description}"
			label="#{msgs.descriptionPrompt}" maxlength="100" size="50">
		</h:inputText>
		<h:message for="desc" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.persistencePrompt}"/>
		<h:selectOneMenu id="persistence" value="#{smtpServer.smtpServer.isPersistence}"
			required="true" label="#{msgs.persistencePrompt}">
			<f:selectItems value="#{codes.yesNoItems}"/>
		</h:selectOneMenu>
		<h:message for="persistence" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.statusIdPrompt}"/>
		<h:selectOneMenu id="statusid" value="#{smtpServer.smtpServer.statusId}"
			required="true" label="#{msgs.statusIdPrompt}">
			<f:selectItems value="#{codes.mailboxStatusIdItems}"/>
		</h:selectOneMenu>
		<h:message for="statusid" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.serverTypePrompt}"/>
		<h:selectOneMenu id="servertype" value="#{smtpServer.smtpServer.serverType}"
			label="#{msgs.serverTypePrompt}">
			<f:selectItems value="#{codes.smtpServerTypeItems}"/>
		</h:selectOneMenu>
		<h:message for="servertype" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.retriesPrompt}"/>
		<h:inputText id="retries" value="#{smtpServer.smtpServer.maximumRetries}"
			required="true" label="#{msgs.retriesPrompt}" size="10">
			<f:validateLongRange minimum="-1" maximum="500"/>
		</h:inputText>
		<h:message for="retries" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.retryFreqPrompt}"/>
		<h:inputText id="retryfreq" value="#{smtpServer.smtpServer.retryFrequence}"
			required="true" label="#{msgs.retryFreqPrompt}" size="10">
			<f:validateLongRange minimum="-1" maximum="500"/>
		</h:inputText>
		<h:message for="retryfreq" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.messageCountPrompt}"/>
		<h:inputText id="messagecount" value="#{smtpServer.smtpServer.messageCount}"
			required="true" label="#{msgs.messageCountPrompt}" size="10">
			<f:validateLongRange minimum="-1"/>
		</h:inputText>
		<h:message for="messagecount" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.alertAfterPrompt}" escape="false"/>
		<h:inputText id="alertafter" value="#{smtpServer.smtpServer.alertAfter}"
			label="#{msgs.alertAfterPrompt}" size="10">
		</h:inputText>
		<h:message for="alertafter" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.alertLevelPrompt}"/>
		<h:selectOneMenu id="alertlevel" value="#{smtpServer.smtpServer.alertLevel}"
			label="#{msgs.alertLevelPrompt}">
			<f:selectItems value="#{codes.alertLevelItems}"/>
		</h:selectOneMenu>
		<h:message for="alertlevel" styleClass="errorMessage"/>
		
		<h:outputText value="#{msgs.threadsPrompt}"/>
		<h:inputText id="threads" value="#{smtpServer.smtpServer.numberOfThreads}"
			required="true" label="#{msgs.threadsPrompt}" size="10">
			<f:validateLongRange minimum="1" maximum="20"/>
		</h:inputText>
		<h:message for="threads" styleClass="errorMessage"/>
	</h:panelGrid>
	<h:panelGroup id="testResult">
		<h:outputText value="#{msgs[smtpServer.testResult]}"
			rendered="#{smtpServer.testResult != null}" styleClass="errorMessage"/>
	</h:panelGroup>
	<f:verbatim><p/></f:verbatim>
	<h:panelGrid columns="2" styleClass="commandBar"
		columnClasses="alignLeft70, alignRight30">
		<h:panelGroup>
			<h:commandButton value="#{msgs.testButtonText}"
				title="Test SMTP server configuration" id="testsmtp">
				<f:ajax event="click" listener="#{smtpServer.testSmtpServerListener}" render="testResult"/>
			</h:commandButton>
			<f:verbatim>&nbsp;</f:verbatim>
			<h:commandButton value="#{msgs.submitButtonText}" title="Submit changes"
				onclick="javascript:return confirmSubmit();" id="submit_change">
				<f:ajax execute="@form" listener="#{smtpServer.saveSmtpServerListener}" render="@form"/>
			</h:commandButton>
			<f:verbatim>&nbsp;</f:verbatim>
			<h:commandButton type="reset" value="#{msgs.resetButtonText}" title="Reset" />
			<f:verbatim>&nbsp;</f:verbatim>
			<h:commandButton value="#{msgs.cancelButtonText}" title="Cancel changes" immediate="true">
				<f:ajax listener="#{smtpServer.cancelEditListener}" render="@form"/>
			</h:commandButton>
		</h:panelGroup>
		<h:panelGroup>
			<f:verbatim>&nbsp;</f:verbatim>
		</h:panelGroup>
	</h:panelGrid>
</h:panelGrid>
</html>